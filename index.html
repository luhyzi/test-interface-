<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeria Clean Apple Style</title>
    <style>
        body {
            margin: 0;
            background-color: #000; /* Fundo preto total */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- O NOVO CABEÇALHO ESTILO APPLE --- */
        .cabecalho {
            /* Aumentei o padding superior para ficar mais elegante */
            padding: 60px 25px 20px 25px;
            
            /* O DEGRADÊ ESCURO (O que você marcou na foto)
               Vai do preto quase sólido (0.8) no topo até transparente (0) embaixo */
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
            
            /* O DESFOQUE FORTE "ESTILO APPLE" NO CABEÇALHO INTEIRO */
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            
            display: flex;
            justify-content: space-between;
            align-items: flex-end; /* Alinha os itens na parte de baixo do cabeçalho */
            position: sticky;
            top: 0;
            z-index: 10;
        }

        /* Título limpo, sem bolha */
        .titulo-texto {
            font-size: 34px; /* Fonte maior e mais impactante */
            font-weight: 800; /* Negrito forte estilo iOS */
            letter-spacing: -0.5px;
            /* Removemos qualquer background ou borda aqui */
        }

        /* O Botão Redondo (Mantive pois combina com o estilo) */
        .btn-add-redondo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 122, 255, 0.2); /* Azul bem sutil */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #007AFF; /* Ícone azul */
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn-add-redondo:active {
            transform: scale(0.9);
        }

        /* Botão Limpar discreto */
        .btn-limpar {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6); /* Branco acinzentado */
            cursor: pointer;
            margin-right: 20px;
            font-weight: 500;
        }

        /* Área das fotos */
        .scroll-area {
            flex: 1;
            overflow-y: auto;
            /* Movemos as fotos um pouco para cima para passarem por baixo do cabeçalho transparente */
            margin-top: -20px; 
            padding-top: 20px;
        }

        .grid-fotos {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
        }

        .foto-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1 / 1;
            background-color: #111;
        }

        .foto {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Input escondido */
        #input-real { display: none; }

        /* Mensagem se não tiver fotos */
        .msg-vazio {
            text-align: center;
            color: #555;
            margin-top: 150px;
            font-size: 16px;
        }

    </style>
</head>
<body>

    <div class="cabecalho">
        <span class="titulo-texto">Galeria</span>

        <div style="display: flex; align-items: center; padding-bottom: 5px;">
            <span class="btn-limpar" onclick="limparTudo()">Limpar</span>
            <div class="btn-add-redondo" onclick="abrirSeletor()">+</div>
        </div>
    </div>

    <div class="scroll-area">
        <div id="mensagem-vazio" class="msg-vazio">
            Nenhuma foto.<br>Toque no + para adicionar.
        </div>
        <div class="grid-fotos" id="grid">
            </div>
    </div>

    <input type="file" id="input-real" accept="image/*" onchange="salvarFoto(this)">

    <script>
        // (O JAVASCRIPT É EXATAMENTE O MESMO, NÃO MUDOU NADA NA LÓGICA)
        const grid = document.getElementById('grid');
        const msgVazio = document.getElementById('mensagem-vazio');

        window.onload = function() { carregarFotosSalvas(); };
        function abrirSeletor() { document.getElementById('input-real').click(); }

        function salvarFoto(input) {
            if (input.files && input.files[0]) {
                const arquivo = input.files[0];
                const leitor = new FileReader();
                leitor.onload = function(e) {
                    const fotoBase64 = e.target.result;
                    try {
                        let fotosAntigas = JSON.parse(localStorage.getItem('minhasFotosLuiz')) || [];
                        fotosAntigas.push(fotoBase64);
                        localStorage.setItem('minhasFotosLuiz', JSON.stringify(fotosAntigas));
                        adicionarNaTela(fotoBase64);
                    } catch (erro) {
                        alert("Memória cheia! Limpe algumas fotos.");
                    }
                }
                leitor.readAsDataURL(arquivo);
            }
        }

        function carregarFotosSalvas() {
            const fotosSalvas = JSON.parse(localStorage.getItem('minhasFotosLuiz')) || [];
            if (fotosSalvas.length === 0) {
                msgVazio.style.display = 'block';
            } else {
                msgVazio.style.display = 'none';
                fotosSalvas.forEach(fotoBase64 => {
                    adicionarNaTela(fotoBase64);
                });
            }
        }

        function adicionarNaTela(imagemSrc) {
            msgVazio.style.display = 'none';
            const div = document.createElement('div');
            div.className = 'foto-container';
            const img = document.createElement('img');
            img.src = imagemSrc;
            img.className = 'foto';
            div.appendChild(img);
            grid.appendChild(div);
        }

        function limparTudo() {
            if(confirm("Apagar todas as fotos?")) {
                localStorage.removeItem('minhasFotosLuiz');
                location.reload();
            }
        }
    </script>

</body>
</html>
